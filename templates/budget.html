<!DOCTYPE html>
<html>
<head>
    <title>Hack the Wealth - Budgeting App</title>
    <link rel="stylesheet" href="/static/smth.css">
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            function toggleCalculationFields() {
                var calcType = document.querySelector('input[name="calculation_type"]:checked');
                var monthlyField = document.getElementById('monthlyField');
                if (calcType && monthlyField) {
                    if (calcType.value === 'time') {
                        monthlyField.style.display = 'none';
                    } else if (calcType.value === 'monthly') {
                        monthlyField.style.display = 'block';
                    }
                }
            }
            var radios = document.querySelectorAll('input[name="calculation_type"]');
            radios.forEach(function(radio){
                radio.addEventListener('change', toggleCalculationFields);
            });
            toggleCalculationFields();
        });

        document.addEventListener('DOMContentLoaded', function(){
            document.querySelectorAll('input[type="number"]').forEach(function(input){
                input.addEventListener('keydown', function(event){
                    if (event.key === 'e' || event.key === 'E' || event.key === '-') {
                        event.preventDefault();
                    }
                });
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>General Budget Template - {{ category }}</h1>
        <form method="POST" action="/budget/{{ category }}">
            <label>Salary (Income):</label>
            <input type="number" name="salary" placeholder="Enter your income" step="0.01" min="0" required>
            
            <label>Expenses:</label>
            <input type="number" name="expenses" placeholder="Enter expenses" step="0.01" min="0" required>
            
            <label>Additional Income (optional):</label>
            <input type="number" name="additional_income" placeholder="Extra earnings" step="0.01" min="0">
            
            <h2>Goal Setting</h2>
            
            <label>Goal Amount:</label>
            <input type="number" name="goal_amount" placeholder="Enter goal amount" step="0.01" min="0" required>
            
            <label>Goal Description:</label>
            <input type="text" name="goal_description" placeholder="e.g., Buy a car">
            
            <div class="radio-group">
                <label><input type="radio" name="calculation_type" value="time" required> How long will it take?</label>
                <label><input type="radio" name="calculation_type" value="monthly"> How much to save per month?</label>
            </div>
            
            <div id="monthlyField" style="display: none;">
                <label>Time Limit (months):</label>
                <input type="number" name="time_limit" placeholder="Enter months" step="0.01" min="0">
            </div>
            
            <button type="submit">Calculate Goal</button>
        </form>

        {% if result %}
        <div class="alert alert-info mt-3">
            {{ result }}
        </div>
        {% endif %}
        {% if error %}
        <div class="alert alert-danger mt-3">
            {{ error }}
        </div>
        {% endif %}
    </div>
</body>
</html>
